---
import { cn } from "@/lib/utils";
import { Image } from "astro:assets";

const topRowCompanies = [
  {
    name: "Government of Alberta",
    logo: "/logos/government-of-alberta-logo-dark.svg",
    width: 143,
    height: 40,
    href: "https://www.alberta.ca",
  },
  {
    name: "City of Lethbridge",
    logo: "/logos/city-of-lethbridge-horizontal-dark.svg",
    width: 154,
    height: 40,
    href: "https://www.lethbridge.ca",
  },
  {
    name: "Stantec Consulting",
    logo: "/logos/stantec-consulting-logo-dark.svg",
    width: 113,
    height: 30,
    href: "https://www.stantec.com",
  },
  {
    name: "Sumus",
    logo: "/logos/sumus-horizontal-dark.svg",
    width: 112,
    height: 40,
    href: "https://sumus.io",
  },
];

const bottomRowCompanies = [
  {
    name: "MD Taber",
    logo: "/logos/md-taber-logo-dark.svg",
    width: 141,
    height: 60,
    href: "https://www.mdtaber.com",
  },
  {
    name: "Castle Mountain Resort",
    logo: "/logos/castle-mountain-logo-dark.svg",
    width: 104,
    height: 45,
    href: "https://www.castlemountain.ca",
  },
  {
    name: "Galt Museum",
    logo: "/logos/galt-horizontal-dark.svg",
    width: 105,
    height: 40,
    href: "https://galtmuseum.com",
  },
  {
    name: "Storyhive",
    logo: "/logos/storyhive-logo-dark.svg",
    width: 128,
    height: 40,
    href: "https://www.storyhive.com",
  },
  {
    name: "Snapshot Studios",
    logo: "/logos/snapshot-studios-logo-dark.svg",
    width: 90,
    height: 40,
    href: "https://www.snapshotstudios.com",
  },
];
---

<section class="overflow-hidden pb-28 lg:pb-32">
  <div class="container space-y-10 lg:space-y-16">
    <div class="text-center">
      <h2 class="mb-4 text-xl text-balance md:text-2xl lg:text-3xl">
        Trusted by Southern Alberta organizations and government entities.
        <br class="max-md:hidden" />
        <span class="text-muted-foreground">
          From municipalities to regional businesses.
        </span>
      </h2>
    </div>

    <div class="flex w-full flex-col items-center gap-8">
      {/* Top row - 4 logos */}
      <div class="hidden md:block w-full">
        <div class="grid grid-cols-4 items-center justify-items-center gap-x-20 lg:gap-x-28">
          {topRowCompanies.map((company) => (
            <a href={company.href} target="_blank" class="transition-opacity hover:opacity-70">
              <img
                src={company.logo}
                alt={`${company.name} logo`}
                width={company.width}
                height={company.height}
                class="dark:opacity/100 object-contain opacity-50 dark:invert"
              />
            </a>
          ))}
        </div>
      </div>

      {/* Bottom row - 5 logos */}
      <div class="hidden md:block w-full">
        <div class="grid grid-cols-5 items-center justify-items-center gap-x-20 lg:gap-x-28">
          {bottomRowCompanies.map((company) => (
            <a href={company.href} target="_blank" class="transition-opacity hover:opacity-70">
              <img
                src={company.logo}
                alt={`${company.name} logo`}
                width={company.width}
                height={company.height}
                class="dark:opacity/100 object-contain opacity-50 dark:invert"
              />
            </a>
          ))}
        </div>
      </div>

      {/* Mobile marquee version (CSS based) */}
      <div class="md:hidden w-full overflow-hidden">
        <div class="marquee-container flex gap-12 py-4">
          <div class="marquee-content flex gap-12 items-center">
            {[...topRowCompanies, ...bottomRowCompanies].map((company) => (
              <a href={company.href} target="_blank" class="shrink-0 transition-opacity hover:opacity-70">
                <img
                  src={company.logo}
                  alt={`${company.name} logo`}
                  width={company.width}
                  height={company.height}
                  class="object-contain max-h-10 w-auto"
                />
              </a>
            ))}
          </div>
          <div class="marquee-content flex gap-12 items-center" aria-hidden="true">
            {[...topRowCompanies, ...bottomRowCompanies].map((company) => (
              <a href={company.href} target="_blank" class="shrink-0 transition-opacity hover:opacity-70">
                <img
                  src={company.logo}
                  alt={`${company.name} logo`}
                  width={company.width}
                  height={company.height}
                  class="object-contain max-h-10 w-auto"
                />
              </a>
            ))}
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .marquee-container {
    mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
  }
  .marquee-content {
    animation: marquee 30s linear infinite;
  }
  @keyframes marquee {
    from { transform: translateX(0); }
    to { transform: translateX(-100%); }
  }
</style>
